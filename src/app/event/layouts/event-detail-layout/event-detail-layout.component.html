<div class="row">
    <ng-template #loader>Loading...</ng-template>
    <section class="col-md-8">
        <nav class="module-actions">
            <a class="btn btn-outline-info"
                [href]="editEventUrl"
                title="Edit">
                <i class="fa fa-pencil"></i> Editer
        </a>
            <button class="btn btn-outline-danger"
                (click)="delete($event)"
                title="Delete">
                <i class="fa fa-trash"></i> Supprimer
            </button>
        </nav>
        <app-event-detail-viewer></app-event-detail-viewer>
    </section>
    <aside class="col-md-4">
        <app-panel *ngIf="!isLoading; else loader">
            <span class="title"><i class="fa fa-magic"></i> Actions</span>
            <app-event-controls class="text card-body"
                [eventId]="event.id"
                [isSubscribed]="isSubscribed"
                [isSubscribable]="isSubscribable"
                (subscribeToEvent)="subscribe()"
                (unsubscribeFromEvent)="unsubscribe()"
            ></app-event-controls>
        </app-panel>
        <app-panel *ngIf="!isLoading;else loader">
            <span class="title"><i class="fa fa-ticket"></i> {{ eventSubscriptions ? eventSubscriptions.length : '' }} inscrits</span>
            <span class="text" *ngIf="eventSubscriptions && eventSubscriptions.length">
                <app-event-subscriptions
                    isTotalHidden="true"
                    [subscribersList]="eventSubscriptions"
                ></app-event-subscriptions>
            </span>
        </app-panel>
        <app-panel>
            <span class="title"><i class="fa fa-pie-chart"></i> Success ratio</span>
            <span class="text">15% of active members are attending to this event !</span>
        </app-panel>
    </aside>
</div>
